import{aa as S,u as B,ac as H,c as W,C as F,as as E,j as k,o as I,ad as R,af as j,ag as U,m as q,B as b,g as D,a9 as O,t as T}from"./OrbitControls.740efb81.js";import{G as X}from"./dat.gui.module.6914edc7.js";import{e as Y,f as Z,g as $,o as J,c as K}from"./index.10588a21.js";const ae={__name:"lizi",setup(N){new X;let u=Y(null),a=new S,o=new B(75,window.innerWidth/window.innerHeight);o.position.set(1,5,10),a.add(o);let C=new H("#FFFFFF",.5);a.add(C);const m=new W().load("/textures/particles/1.png"),e={count:1e4,size:.1,radius:10,branch:4,color:"#ff6030",rotateScale:.3,endColor:"#1b3984"};let l=null,p=null,h=null;const y=new F(e.color),A=new F(e.endColor);(()=>{l=new q;const r=new Float32Array(e.count*3),i=new Float32Array(e.count*3);for(let d=0;d<e.count;d++){const x=d%e.branch*(2*Math.PI/e.branch),n=Math.random()*e.radius*Math.pow(Math.random(),3),s=d*3,_=Math.pow(Math.random()*2-1,3)*(e.radius-n)/5,G=Math.pow(Math.random()*2-1,3)*(e.radius-n)/5,L=Math.pow(Math.random()*2-1,3)*(e.radius-n)/5;r[s]=Math.cos(x+n*e.rotateScale)*n+_,r[s+1]=0+G,r[s+2]=Math.sin(x+n*e.rotateScale)*n+L;const c=y.clone();c.lerp(A,n/e.radius),i[s]=c.r,i[s+1]=c.g,i[s+2]=c.b}l.setAttribute("position",new b(r,3)),l.setAttribute("color",new b(i,3)),p=new D({size:e.size,sizeAttenuation:!0,depthWrite:!1,blending:O,map:m,alphaMap:m,transparent:!0,vertexColors:!0}),h=new T(l,p),a.add(h)})();const v=new E(30,30),z=new k({color:"#FFFFFF"}),w=new I(v,z);w.position.set(0,-5,0),w.rotation.x=-Math.PI/2,a.add(w);let t=new R;t.shadowMap.enabled=!0,t.physicallyCorrectLights=!0,t.setSize(window.innerWidth,window.innerHeight);let M=new j(o,t.domElement);M.enableDamping=!0;let P=new U(10);a.add(P);function f(){M.update(),t.render(a,o),window.requestAnimationFrame(f)}const g=r=>{o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight),t.setPixelRatio(window.devicePixelRatio)};return Z(()=>{u.value.appendChild(t.domElement),f(),window.addEventListener("resize",g)}),$(()=>{window.removeEventListener("resize",g)}),(r,i)=>(J(),K("div",{class:"test",ref_key:"el",ref:u},null,512))}};export{ae as default};
